<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flashcard Mode</title>
  <style>
    * { box-sizing: border-box; }
    body, html {
      min-height: 100vh;
      margin: 0; padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(120deg, #c4e0e5 0%, #4ca1af 100%);
      color: #222;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
    }
    header {
      margin: 36px 0 24px;
      max-width: 900px;
      text-align: center;
    }
    header h1 {
      color: #183b56;
      font-size: 2.2rem;
      letter-spacing: 0.045em;
      margin-bottom: 10px;
      font-weight: 800;
    }
    header p {
      color: #284774;
      font-size: 1.12rem;
      margin: 0;
      font-weight: 500;
      line-height: 1.5;
    }
    .flashcard-container {
      perspective: 1600px;
      margin: 36px auto 0;
      width: 340px;
      max-width: 96vw;
      height: 430px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .flashcard {
      width: 340px;
      max-width: 96vw;
      height: 430px;
      background: transparent;
      border: none;
      outline: none;
      position: relative;
      transition: box-shadow 0.25s;
      box-shadow: 0 8px 36px rgba(46, 108, 140, 0.18);
      border-radius: 32px;
      cursor: pointer;
      perspective: 1600px;
      padding: 0;
    }
    .card-inner {
      width: 100%; height: 100%;
      position: relative;
      transition: transform 0.74s cubic-bezier(.23,1.18,.77,1.1);
      transform-style: preserve-3d;
    }
    .flashcard.flipped .card-inner {
      transform: rotateY(180deg);
    }
    .card-front, .card-back {
      position: absolute; width: 100%; height: 100%;
      backface-visibility: hidden;
      border-radius: 32px;
      background: #fff;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      box-shadow: 0 7px 30px rgba(46,108,140,0.07);
      padding: 34px 12px 34px 12px;
      transition: background 0.25s;
      overflow: hidden;
      box-sizing: border-box;
    }
    .card-front {
      z-index: 2;
    }
    .card-back {
      transform: rotateY(180deg);
      background: #f6fafc;
      z-index: 1;
    }
    .sign-img {
      display: block;
      width: 170px;
      height: 170px;
      max-width: 90vw;
      background: #e7f8ff;
      border-radius: 22px;
      box-shadow: 0 3px 13px #d6c2742c;
      object-fit: contain;
      user-select: none; pointer-events: none;
      margin-bottom: 20px;
    }
    .answer {
      font-size: 2.1rem;
      color: #ffd600;
      font-weight: 900;
      letter-spacing: 0.06em;
      text-align: center;
      text-shadow: 0 1px 0 #fff;
      margin: 0 auto;
      max-width: 95%;
      line-height: 1.13;
      word-break: break-word;
      white-space: pre-line;
      padding: 0 6px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    .answer.long {
      font-size: 1.25rem;
    }
    .flip-info {
      margin-top: 38px;
      color: #557fab;
      font-size: 1rem;
      opacity: 0.85;
      text-align: center;
      width: 100%;
      padding: 0 6px;
    }
    #next-btn {
      margin: 32px auto 0;
      display: block;
      background: #ffd600;
      border: none;
      border-radius: 25px;
      color: #183b56;
      padding: 15px 42px;
      font-weight: 700;
      font-size: 1.17rem;
      letter-spacing: 0.1em;
      cursor: pointer;
      box-shadow: 0 2px 10px #e7dfc2c2;
      transition: background 0.18s;
    }
    #next-btn:hover,
    #next-btn:focus {
      background: #ffea80;
      outline: 2px solid #ffd600;
    }
    @media (max-width: 500px) {
      .flashcard-container, .flashcard { width: 96vw; height: 260px;}
      .sign-img { width: 48vw; height: 48vw; max-width: 142px; max-height: 142px;}
      .answer { font-size: 1.1rem;}
      .card-front, .card-back { padding: 16px 2px;}
      .flip-info { margin-top: 20px; font-size: 0.93rem; }
    }
  </style>
</head>
<body>
<header>
  <h1>Flashcards</h1>
  <p>
    Look at the sign, guess the letter or phrase, then flip to check your answer. Click “Next” for a new card.
  </p>
</header>

<div class="flashcard-container" aria-label="Sign language flashcard game">
  <button class="flashcard" id="flashcard" tabindex="0" aria-pressed="false" aria-label="Flashcard. Click or press enter/space to flip.">
    <div class="card-inner">
      <div class="card-front">
        <img class="sign-img" id="sign-img" src="" alt="Sign image" draggable="false" />
        <div class="flip-info">Click or tap to see the answer!</div>
      </div>
      <div class="card-back">
        <div class="answer" id="flash-answer"></div>
        <div class="flip-info">Click or tap to go back.</div>
      </div>
    </div>
  </button>
</div>
<button id="next-btn" type="button">Next</button>

<script>
  const ALPHABET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
  const PHRASES = [
    "Sorry", "Goodbye", "Hello", "Love", "Thank you", "No", "Please",
    "Yes", "House", "I love you", "Family", "Welcome"
  ];
  const cards = [
    ...ALPHABET.map(letter => ({
      type: "letter",
      img: `signs/${letter.toLowerCase()}.jpg`,
      answer: letter
    })),
    ...PHRASES.map(phrase => ({
      type: "phrase",
      img: `phrase/${phrase.toLowerCase().replace(/[^a-z0-9]+/g, "_").replace(/^_|_$/g, "")}.jpg`,
      answer: phrase
    }))
  ];
  function shuffle(array) {
    for (let i = array.length -1; i > 0; i--) {
      let j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
  }
  let order = [];
  let index = 0;
  let flipped = false;
  function setupFlashcards() {
    order = cards.slice();
    shuffle(order);
    index = 0;
    loadCard();
  }
  const flashcardEl = document.getElementById('flashcard');
  const imgEl = document.getElementById('sign-img');
  const answerEl = document.getElementById('flash-answer');
  const nextBtn = document.getElementById('next-btn');
  function loadCard() {
    flipped = false;
    flashcardEl.classList.remove('flipped');
    const card = order[index];
    imgEl.src = card.img;
    imgEl.alt = card.type === "letter"
      ? `Hand sign for letter ${card.answer}`
      : `Hand sign for phrase "${card.answer}"`;
    answerEl.textContent = card.answer;
    if (card.answer.length > 12) {
      answerEl.classList.add('long');
    } else {
      answerEl.classList.remove('long');
    }
  }
  flashcardEl.addEventListener('click', () => toggleFlip());
  flashcardEl.addEventListener('keyup', e => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      toggleFlip();
    }
  });
  function toggleFlip() {
    flipped = !flipped;
    if (flipped) {
      flashcardEl.classList.add('flipped');
      flashcardEl.setAttribute('aria-pressed', 'true');
    } else {
      flashcardEl.classList.remove('flipped');
      flashcardEl.setAttribute('aria-pressed', 'false');
    }
  }
  nextBtn.addEventListener('click', () => {
    index++;
    if (index >= order.length) {
      shuffle(order);
      index = 0;
    }
    loadCard();
    flashcardEl.focus();
  });
  setupFlashcards();
</script>
</body>
</html>
